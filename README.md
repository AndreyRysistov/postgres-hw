# Домашняя работа по дисциплине "Проектирование и сопровождение баз данных"

## Ссылки
- [Домашняя работа 1](#домашняя-работа-1)
- [Домашняя работа 2](#домашняя-работа-2)
- [Домашняя работа 3](#домашняя-работа-3)
- [Домашняя работа 4](#домашняя-работа-4)
- [Домашняя работа 5](#домашняя-работа-5)
- [Домашняя работа 6](#домашняя-работа-6)
- [Домашняя работа 7](#домашняя-работа-7)
- [Домашняя работа 8](#домашняя-работа-8)
- [Домашняя работа 9](#домашняя-работа-9)
- [Домашняя работа 10](#домашняя-работа-10)
- [Домашняя работа 11](#домашняя-работа-11)
- [Финальная работа 1](#финальная-работа-1)
- [Финальная работа 2](#финальная-работа-2)
- [Финальная работа 3](#финальная-работа-3)
- [Финальная работа 4](#финальная-работа-4)

## Домашняя работа 1

<details>
<summary>Сама работа</summary>

---

### Задание

Подумать над выбором предметной области для выполнения финальной (экзаменационной) работы.
Выбирайте предметную область, которая вам интересна 
и в которой вы разбираетесь или хотите разобраться.

Сделать краткое описание выбранной предметной области (1-2 страницы).
Если описание получится более объемным, не беда.
Ведь это описание затем войдет в финальный отчет.

Попытаться сформулировать требования к будущей базе данных.

### Работа

#### Цель работы

Описать словесно выбранную предметную область для курсовой работы – "Менеджер паролей".

#### Описание предметной области

В настоящее время весь документооборот перемещается в электронный вид.
Требуется хранить различные документы, данные и поддерживать их связность.
Например, необходимо хранить учебное расписание,
обеспечить её связность с учебными группами,
преподавателями и аудиториями,
чтобы можно было в любой момент создать расписание учебных групп, преподавателей и аудиторий.
Это и является основной целью и задачей выбранной предметной области.

Можно хранить расписание в слабо структурированном виде в формате JSON,
но тогда не получится просто извлекать расписание конкретной группы, преподавателя или аудитории,
придётся для этого писать дополнительный ненужный код.
Такую задачу можно положить на реляционную базу данных при правильном проектирований связей таблиц.

При посещении веб-страницы расписания группы пользователь выбирает номер группы и номер недели.
База данных должна, соответственно, предоставить набор предметов на выбранную неделю по выбранной группе,
включить информацию о месте проведения занятий, ФИО преподавателя, который будет вести их.

При посещении веб-страницы расписания преподавателя
пользователь выбирает ФИО преподавателя и номер недели.
База данных должна, соответственно предоставить набор предметов на выбранную неделю по выбранному ФИО,
включить информацию о месте проведения занятий, номер групп, для которых занятие проводится.

[Наверх](#ссылки)

---

</details>

## Домашняя работа 2

<details>
<summary>Сама работа</summary>

---

### Задание

Глава 3 (упражнения 1-4)

### Работа

[Наверх](#ссылки)

---

</details>

## Домашняя работа 3

<details>
<summary>Сама работа</summary>

---

### Задание

Глава 4 (упражнения 2, 4, 8, 12, 15, 21, 30, 33, 35)

### Работа

[Наверх](#ссылки)

---

</details>

## Домашняя работа 4

<details>
<summary>Сама работа</summary>

---

### Задание

Глава 5 (упражнения 2, 9, 17, 18)

### Работа

[Наверх](#ссылки)

---

</details>

## Домашняя работа 5

<details>
<summary>Сама работа</summary>

---

### Задание

Глава 6 (упражнения 2, 7, 9, 13, 19, 21, 23)

### Работа

[Наверх](#ссылки)

---

</details>

## Домашняя работа 6

<details>
<summary>Сама работа</summary>

---

### Задание

Глава 7 (упражнения 1, 2, 4)

### Работа

[Наверх](#ссылки)

---

</details>

## Домашняя работа 7

<details>
<summary>Сама работа</summary>

---

### Задание

Глава 8 (упражнения 1, 3)

### Работа

[Наверх](#ссылки)

---

</details>

## Домашняя работа 8

<details>
<summary>Сама работа</summary>

---

### Задание

Глава 9 (упражнения 2, 3)

### Работа

[Наверх](#ссылки)

---

</details>

## Домашняя работа 9

<details>
<summary>Сама работа</summary>

---

### Задание

Глава 10 (упражнения 3, 6, 8)

### Работа

[Наверх](#ссылки)

---

</details>

## Домашняя работа 10

<details>
<summary>Сама работа</summary>

---

### Предисловие

Программирование на стороне сервера.

Выполняется на основе [презентации](https://edu.postgrespro.ru/sqlprimer/sqlprimer-2019-msu-09.pdf)
и главы 4 учебного пособия "Администрирование информационных систем".
Учебную базу данных можно наполнить информацией, функциями и триггерами
с помощью команд, выполняемых в командной строке Debian:

```bash
createdb ais -U postgres
psql -d ais -f adj_list.sql -U postgres
```

Файл `adj_list.sql` находится в составе архива исходных текстов, прилагаемых к учебному пособию.
Они находятся [здесь](http://www.morgunov.org/docs/inf_sys_admin_prg.tgz)

Эти исходные тексты также есть в виртуальной машине ОС Debian
в каталоге `/home/WORK/Databases/Admin_DB/UTF-8`.
В составе этих примеров есть и те,
которые не приведены в тексте пособия,
но они могут быть полезными при выполнении финального задания.

### Задание

Нужно проделать упражнения 12-18 на стр. 86-88 учебного пособия "Администрирование информационных систем".
Почти все эти упражнения являются простыми, ознакомительными, не требующими программирования.

*Прим. В настоящее время я пишу вторую часть учебника по SQL (продвинутую).
Скорее всего, презентацию по программированию на стороне сервера
я дополню более сложными примерами, тогда и задание будет откорректировано.*

### Работа

[Наверх](#ссылки)

---

</details>

## Домашняя работа 11

<details>
<summary>Сама работа</summary>

---

### Предисловие

Полнотекстовый поиск.
 
Задание выполняется на основе презентации 10 "Полнотекстовый поиск"
и главы 12 документации на [Постгрес](https://postgrespro.ru/docs/postgresql/12/textsearch)

### Задание

Придумать и реализовать пример использования полнотекстового поиска,
аналогичный (можно более простой или более сложный) тому примеру с библиотечным каталогом,
который был приведен в презентации.
Можно использовать исходные тексты, приведенные в [презентации](https://edu.postgrespro.ru/sqlprimer/sqlprimer-2019-msu-10.tgz).

### Работа

[Наверх](#ссылки)

---

</details>

## Финальная работа 1

<details>
<summary>Сама работа</summary>

---

### Задание

Спроектировать базу данных для выбранной предметной области.

Самые первые этапы разработки вы выполните в первом задании (см. выше).
А в финальном задании выполняете остальные этапы. 

При этом нужно следовать общей методологии проектирования баз данных:
сначала необходимо создать концептуальную модель данных с использованием ER-диаграмм, 
затем построить логическую модель, выполнив отображение сущностей и связей 
в отношения, в завершение нужно выполнить физическое проектирование, создав 
реляционные таблицы в среде целевой СУБД PostgreSQL. Можно использовать 
ту нотацию, которая вам больше нравится: П. Чена, "вороньи лапки" 
или UML-нотацию, как в лекции и в учебнике Т. Коннолли. Для рисования диаграмм 
можно использовать любой бесплатный редактор, умеющий рисовать ER-диаграммы. 
Можно нарисовать их в Word'е или аккуратно от руки (и сфотографировать).
 
Число таблиц должно быть равно 8-10.
 
Почему дается интервал (8-10)? Потому что число таблиц может быть 8, а не 10, 
но при этом могут использоваться более разнообразные типы данных и может быть 
больше столбцов в таблицах.
 
Обязательно должны быть созданы триггеры (и триггерные функции к ним) 
и хранимые функции (процедуры) на языке PL/pgSQL.
 
- Число триггеров должно быть не менее 2.
- Число хранимых функций должно быть не менее 2.
 
Эти функции и триггеры не обязательно должны быть сложными. Цель -- научиться
их применять с пользой для дела.

### Работа

[Наверх](#ссылки)

---

</details>


## Финальная работа 2

<details>
<summary>Сама работа</summary>

---

### Задание

Ввести небольшое количество записей в таблицы базы данных, чтобы можно было
продемонстрировать типичные запросы к базе данных. В запросах должны быть 
использованы:

- подзапросы;
- общие табличные выражения (CTE) (хотя бы одно) и
- оконные функции (Window functions) (хотя бы одна).

### Работа

[Наверх](#ссылки)

---

</details>


## Финальная работа 3

<details>
<summary>Сама работа</summary>

---

### Задание

Создавать приложение (интерфейс пользователя) не требуется.

Конечно, создать его не запрещается, но это не означает, что при отсутствии 
интерфейса пользователя оценка будет снижена, а при его наличии повышена. 
Мотивом для его создания может быть стремление к совершенству, желание превратить
эту учебную разработку в полноценный продукт и т. д.

В том случае, если приложение не разрабатывалось, нужно заранее подготовить 
несколько типичных запросов к базе данных и сохранить их в отдельных текстовых 
файлах. Для демонстрации этих запросов их можно вызывать как извне утилиты psql,
так и изнутри нее. Например, для выполнения запроса, содержащегося в файле 
`file_with_request.sql`, нужно сделать так:

```bash
psql -d your_database -f file_with_request.sql -U postgres
```

Для выполнения запроса, сохраненного в файле, изнутри утилиты psql, можно 
сделать так (конечно, нужно учитывать, в каком каталоге находится этот файл, 
возможно, будет удобнее и проще написать полный путь к файлу):

```sql 
\i  file_with_request.sql
```

### Работа

[Наверх](#ссылки)

---

</details>


## Финальная работа 4

<details>
<summary>Сама работа</summary>

---

### Задание

Подготовить отчет.

Нужно поместить в него:

- краткое описание предметной области и требования к базе данных 
(т. е. результат выполнения самого первого домашнего задания);
- концептуальную, логическую и физическую схемы базы данных;
- типичные запросы к базе данных, сохраненные в виде отдельных текстовых файлов;
- резервную копию базы данных, созданную с помощью утилиты pg_dump, входящей
в состав PostgreSQL. С помощью этой копии можно будет быстро восстановить вашу 
базу данных и те данные, которые вы в нее ввели.

Краткое описание предметной области, концептуальную и логическую схемы базы 
данных нужно поместить в документ в формате doc или pdf (как вам удобнее).

Физическую схему базы данных нужно представить в отчете в виде текстового 
файла, содержащего SQL-команды для создания таблиц, представлений (если они 
используются), триггеров и триггерных функций. В этом файле должны быть сделаны 
комментарии. Имея такой файл, создать все объекты базы данных можно будет таким 
образом:

```bash
psql -d your_database -f file_with_SQL_commands.sql -U postgres 
```

В качестве примера такого файла можно посмотреть файл `adj_list.sql`
в каталоге `/home/WORK/Databases/Admin_DB/UTF-8`.

Для каждого отношения (таблицы) необходимо указать номер нормальной формы,
в которой это отношение находится, и кратко (буквально, в два слова) обосновать,
из чего это следует.  Если какое-либо отношение не находится хотя бы в 3НФ, 
необходимо обосновать,  почему принято такое проектное решение.

### Работа

[Наверх](#ссылки)

---

</details>
